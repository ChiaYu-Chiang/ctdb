{% extends "base.html" %}
{% block content %}
  <h2>行事曆</h2>
  <a href="{% url 'dep_calendar:event_create' %}" class="btn btn-primary">新增事件</a>
  <div id='calendar'></div>

  <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css' rel='stylesheet' />
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
  <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.8/locales-all.global.min.js'></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const calendarEl = document.getElementById('calendar');
      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        locale: 'zh-tw',
        events: '{% url "dep_calendar:calendar_events_json" %}'
      });
      calendar.render();
    });
  </script>
{% endblock %}